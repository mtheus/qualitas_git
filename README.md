# Qualitas.git Corpus (2025 Edition)

## Introduction

The **Qualitas.git Corpus** (2025 Edition) is an updated version of the original Qualitas Corpus, designed to provide a curated collection of open-source software repositories in their Git-based versions. This project aims to facilitate empirical studies in **software engineering, program analysis, and software evolution** by offering an up-to-date and structured dataset of real-world software projects.

## Objectives

- Provide an **updated** and **maintainable** version of the Qualitas Corpus.
- Enable researchers and practitioners to study **software evolution, quality, and reliability** using modern Git-based repositories.
- Support reproducibility in **software engineering research** by maintaining historical and recent versions of software projects.

## Structure

The corpus consists of repositories cloned from publicly available sources, ensuring:
- **Authenticity**: Original repository structures and commit histories are preserved.
- **Diversity**: Includes various software domains (e.g., development tools, frameworks, utilities).
- **Accessibility**: Available as Git repositories for easy cloning, analysis, and experimentation.

For more details, visit the official documentation or check the list of included projects.

## Repository Download Scripts for Qualitas.git Corpus

### Overview

This repository includes two shell scripts, `download_repos1.sh` and `download_repos2.sh`, which automate the cloning of Git repositories for the **Qualitas.git Corpus (2025 Edition)**.  

- **`download_repos1.sh`**: Clones projects from the original **Qualitas Corpus** that are available on GitHub.  
- **`download_repos2.sh`**: Clones additional **relevant Java ecosystem projects** that complement the original corpus.  

### Usage

Ensure Git is installed and run the scripts:

```bash
./download_repos1.sh
./download_repos2.sh
```

### Projects List

| Projeto                  | GitHub Link                                                       |
|--------------------------|-------------------------------------------------------------------|
| BiglyBT                   | https://github.com/BiglySoftware/BiglyBT.git                       |
| cglib                     | https://github.com/cglib/cglib.git                                 |
| giraph                    | https://github.com/apache/giraph.git                               |
| java-design-patterns      | https://github.com/iluwatar/java-design-patterns.git               |
| opengrok                  | https://github.com/oracle/opengrok.git                             |
| takes                     | https://github.com/yegor256/takes.git                              |
| Firestorm                 | https://github.com/Tencent/Firestorm.git                           |
| checkstyle                | https://github.com/checkstyle/checkstyle.git                       |
| glide                     | https://github.com/bumptech/glide.git                              |
| javaparser                | https://github.com/javaparser/javaparser.git                       |
| opennlp                   | https://github.com/apache/opennlp.git                              |
| tika                      | https://github.com/apache/tika.git                                 |
| Hystrix                   | https://github.com/Netflix/Hystrix.git                             |
| cobertura                 | https://github.com/cobertura/cobertura.git                        |
| gora                      | https://github.com/apache/gora.git                                 |
| jenkins                   | https://github.com/jenkinsci/jenkins.git                           |
| org.aspectj               | https://github.com/eclipse/org.aspectj.git                         |
| tinker                    | https://github.com/Tencent/tinker.git                              |
| RxJava                    | https://github.com/ReactiveX/RxJava.git                            |
| commons-collections       | https://github.com/apache/commons-collections.git                  |
| graal                     | https://github.com/oracle/graal.git                                |
| jetty.project             | https://github.com/eclipse/jetty.project.git                      |
| pdfbox                    | https://github.com/apache/pdfbox.git                               |
| tomcat                    | https://github.com/apache/tomcat.git                               |
| SimianArmy                | https://github.com/Netflix/SimianArmy.git                          |
| commons-io                | https://github.com/apache/commons-io.git                           |
| groovy                    | https://github.com/apache/groovy.git                               |
| jfreechart                | https://github.com/jfree/jfreechart.git                            |
| phoenix                   | https://github.com/apache/phoenix.git                              |
| tomee                     | https://github.com/apache/tomee.git                                |
| accumulo                  | https://github.com/apache/accumulo.git                             |
| commons-lang              | https://github.com/apache/commons-lang.git                         |
| gson                      | https://github.com/google/gson.git                                 |
| jmeter                    | https://github.com/apache/jmeter.git                               |
| picasso                   | https://github.com/square/picasso.git                              |
| truth                     | https://github.com/google/truth.git                                |
| airflow                   | https://github.com/apache/airflow.git                              |
| dagger                    | https://github.com/google/dagger.git                               |
| guava                     | https://github.com/google/guava.git                                |
| jspwiki                   | https://github.com/apache/jspwiki.git                              |
| pmd                       | https://github.com/pmd/pmd.git                                     |
| velocity-engine           | https://github.com/apache/velocity-engine.git                      |
| angel                     | https://github.com/Tencent/angel.git                               |
| derby                     | https://github.com/apache/derby.git                                |
| hadoop                    | https://github.com/apache/hadoop.git                               |
| junit4                    | https://github.com/junit-team/junit4.git                            |
| poi                       | https://github.com/apache/poi.git                                  |
| visualvm                  | https://github.com/oracle/visualvm.git                             |
| ant                       | https://github.com/apache/ant.git                                  |
| drjava                    | https://github.com/DrJavaAtRice/drjava.git                         |
| hazelcast                 | https://github.com/hazelcast/hazelcast.git                         |
| junit5                    | https://github.com/junit-team/junit5.git                            |
| presto                    | https://github.com/prestodb/presto.git                             |
| weka-3.8                  | https://github.com/Waikato/weka-3.8.git                            |
| antlr3                    | https://github.com/antlr/antlr3.git                                |
| dropwizard                | https://github.com/dropwizard/dropwizard.git                       |
| hbase                     | https://github.com/apache/hbase.git                                |
| kafka                     | https://github.com/apache/kafka.git                                |
| quartz                    | https://github.com/quartz-scheduler/quartz.git                     |
| xalan-java                | https://github.com/apache/xalan-java.git                           |
| argouml                   | https://github.com/argouml-tigris-org/argouml.git                  |
| druid                     | https://github.com/apache/druid.git                                |
| heritrix3                 | https://github.com/internetarchive/heritrix3.git                   |
| logging-log4j2            | https://github.com/apache/logging-log4j2.git                      |
| redisson                  | https://github.com/redisson/redisson.git                           |
| xerces2-j                 | https://github.com/apache/xerces2-j.git                            |
| auto                      | https://github.com/google/auto.git                                 |
| dubbo                     | https://github.com/apache/dubbo.git                                |
| hibernate-orm             | https://github.com/hibernate/hibernate-orm.git                     |
| lucene                    | https://github.com/apache/lucene.git                               |
| retrofit                  | https://github.com/square/retrofit.git                             |
| xmlgraphics-batik         | https://github.com/apache/xmlgraphics-batik.git                    |
| bc-java                   | https://github.com/bcgit/bc-java.git                               |
| elasticsearch             | https://github.com/elastic/elasticsearch.git                       |
| hsqldb                    | https://github.com/hsqldb/hsqldb.git                               |
| maven                     | https://github.com/apache/maven.git                                |
| rocketmq                  | https://github.com/apache/rocketmq.git                             |
| xstream                   | https://github.com/x-stream/xstream.git                            |
| beam                      | https://github.com/apache/beam.git                                 |
| error-prone               | https://github.com/google/error-prone.git                          |
| htmlunit                  | https://github.com/HtmlUnit/htmlunit.git                           |
| microprofile              | https://github.com/eclipse/microprofile.git                       |
| shardingsphere            | https://github.com/apache/shardingsphere.git                       |
| zeppelin                  | https://github.com/apache/zeppelin.git                             |
| bitcoinj                  | https://github.com/bitcoinj/bitcoinj.git                           |
| eureka                    | https://github.com/Netflix/eureka.git                              |
| ignite                    | https://github.com/apache/ignite.git                               |
| mockito                   | https://github.com/mockito/mockito.git                             |
| skywalking                | https://github.com/apache/skywalking.git                           |
| zookeeper                 | https://github.com/apache/zookeeper.git                            |
| byte-buddy                | https://github.com/raphw/byte-buddy.git                            |
| findbugs                  | https://github.com/findbugsproject/findbugs.git                    |
| itextpdf                  | https://github.com/itext/itextpdf.git                              |
| mybatis-3                 | https://github.com/mybatis/mybatis-3.git                           |
| spark                     | https://github.com/perwendel/spark.git                             |
| zuul                      | https://github.com/Netflix/zuul.git                                |
| camel                     | https://github.com/apache/camel.git                                |
| flink                     | https://github.com/apache/flink.git                                |
| j2objc                    | https://github.com/google/j2objc.git                              |
| netbeans                  | https://github.com/apache/netbeans.git                             |
| spring-boot               | https://github.com/spring-projects/spring-boot.git                 |
| cassandra                 | https://github.com/apache/cassandra.git                            |
| freecol                   | https://github.com/FreeCol/freecol.git                             |
| jOOQ                      | https://github.com/jOOQ/jOOQ.git                                   |
| netty                     | https://github.com/netty/netty.git                                 |
| spring-framework          | https://github.com/spring-projects/spring-framework.git            |
| castor                    | https://github.com/castor-data-binding/castor.git                  |
| freeplane                 | https://github.com/freeplane/freeplane.git                         |
| jackson                   | https://github.com/FasterXML/jackson.git                           |
| nifi                      | https://github.com/apache/nifi.git                                 |
| storm                     | https://github.com/apache/storm.git                                |
| cayenne                   | https://github.com/apache/cayenne.git                              |
| ganttproject              | https://github.com/bardsoftware/ganttproject.git                   |
| jasperreports             | https://github.com/TIBCOSoftware/jasperreports.git                 |
| okhttp                    | https://github.com/square/okhttp.git                               |
| struts                    | https://github.com/apache/struts.git                               |



## extract_logs.sh - Log Extraction and Line Counting Script

### Overview

The `extract_logs.sh` script is designed to extract detailed information from cloned repositories in the `repos` directory, generating commit logs and file line counts for each repository. It processes each Git repository, saving the results in log and CSV files.

### Objective

This script performs the following tasks for each Git repository:

- Generates a formatted commit log.
- Counts the number of lines in each file in the repository.
- Saves the information in separate files, organized by repository.

### How It Works

1. **Generating Commit Logs**:
   - For each repository, the script generates a log file with the commit hash, author, date, and message for each commit.
   - **Command Used**:
     ```bash
     git log --pretty=format:'[%h] %aN %ad %s' --date=iso8601 --numstat
     ```
     - `--pretty=format:'[%h] %aN %ad %s'`: Formats the log output to show the commit hash (`%h`), author name (`%aN`), author date (`%ad`), and commit message (`%s`).
     - `--date=iso8601`: Specifies the date format as ISO 8601.
     - `--numstat`: Includes the number of added and deleted lines in each commit.

2. **Counting Lines in Files**:
   - The script counts the number of lines in each file in the repository and saves it in a CSV file.
   - **Command Used**:
     ```bash
     git ls-files | xargs wc -l
     ```
     - `git ls-files`: Lists all the files in the repository that are being tracked by Git.
     - `xargs wc -l`: For each file, it runs the `wc -l` command to count the number of lines.

### Usage

Ensure Git is installed and run the scripts:

```bash
./extract_logs.sh 
```

## run_analysis.sh - Code Maat Metrics Extraction Script

### Overview

The `run_analysis.sh` script automates the process of running the `code-maat-1.0.4-standalone.jar` program to extract several key software metrics from the repositories in the `logs` directory. The script processes each Git repository and calculates various metrics to provide insights into software evolution and team activity.

### What is Code Maat?

**Code Maat** is a software metrics tool designed to analyze version-controlled software repositories (such as Git). It focuses on extracting information about software evolution, including the dynamics of code changes, contributions, and other project characteristics. The tool calculates a variety of metrics related to the project's codebase, team interactions, and development practices. Code Maat is useful for understanding the long-term health of a software project and identifying potential areas of improvement in both the code and team collaboration.


### How It Works

1. **Running Code Maat**:
   - The script runs the `code-maat-1.0.4-standalone.jar` program with the following metrics:
   - **Command Used**:
     ```bash
     java -jar code-maat-1.0.4-standalone.jar -m <metric> -i <input_dir> -o <output_dir>
     ```

### Metrics Extracted

The script calculates the following metrics:

- **`abs-churn`**: Measures the absolute code churn (the total number of lines added and deleted) in a repository, indicating how actively the code is being modified.
- **`age`**: The age of the project, representing the time since the first commit.
- **`author-churn`**: Tracks the number of lines added and removed by each author, showing how active each contributor is over time.
- **`authors`**: Counts the number of unique authors in the repository, providing an overview of the team's size.
- **`communication`**: Measures the interaction between different authors, identifying how much collaboration is happening across different parts of the codebase.
- **`coupling`**: Analyzes the coupling between classes or modules in the project, helping identify areas with high dependencies.
- **`entity-churn`**: Similar to `abs-churn`, but focused on the churn of entities (e.g., methods, classes) in the project, indicating where changes are concentrated.
- **`entity-effort`**: Measures the effort spent on modifying entities in the codebase, which can provide insights into which parts of the code are most costly to maintain.
- **`entity-ownership`**: Tracks which entities are primarily owned by each developer, providing an overview of responsibility distribution across the project.
- **`fragmentation`**: Measures the fragmentation of the codebase, which can indicate poor modularity or high complexity.
- **`identity`**: Identifies the stability of the project's identity by tracking the degree of code duplication and refactoring.
- **`main-dev`**: Identifies the main developer(s) of the project, based on the volume of changes committed over time.
- **`main-dev-by-revs`**: Similar to `main-dev`, but focused on the number of revisions contributed by the main developer.
- **`refactoring-main-dev`**: Tracks refactoring activities performed by the main developer, providing insights into maintenance activities.
- **`revisions`**: Counts the total number of commits (revisions) in the repository, showing the project's development activity over time.
- **`soc`**: Measures the social aspect of development by analyzing how many authors interact with each other through commits.
- **`summary`**: A summary of the repository's evolution, containing key metrics and general project insights.

### Usage

To run the analysis, use the following command:

```bash
./run_analysis.sh      
```

## classification.ipynb - Commit Classification Using FastText

### Overview

The `classification.ipynb` notebook trains a machine learning model using **FastText** to classify commit messages into predefined categories. This helps in analyzing software evolution by distinguishing different types of code changes.

### Model Training and Evaluation

The model is trained on a labeled dataset of commit messages and validated using a separate test set. Its performance is measured using **Precision, Recall, and F1-score**, where the overall metrics are:

- **Precision**: 0.81  
- **Recall**: 0.81  
- **F1-score**: 0.81  

### Commit Categories

The model classifies commits into five categories:

- **Corrective**: Bug fixes and defect corrections.
- **Features**: New functionalities and enhancements.
- **Non-functional**: Performance, security, or documentation improvements.
- **Perfective**: Code refactoring and maintainability updates.
- **Unknown**: Unclassified or ambiguous commits.

### Usage

The `classification.ipynb` notebook can be used to **train, evaluate, and apply the model** for commit classification. It allows researchers to fine-tune the model using different training datasets and parameters, facilitating software maintenance and evolution analysis.


## Generating a Treemap of the Logical Architecture

### Overview

The Jupyter Notebook `run_files_maps.ipynb` processes the `all_files.csv` file from the **logs** directory and generates a **treemap** representing the logical architecture of the software repositories. This visualization helps analyze the **folder structure and file sizes**, allowing for an intuitive understanding of the repository's composition.

### Purpose

The treemap provides a **hierarchical view** of the repository structure, where:
- **Folders** are represented as nested rectangles.
- **File sizes** determine the relative area of each rectangle.
- This visualization can be used to **assess file distributions, detect anomalies, or analyze architectural trends** in the repository.

## Commit Parsing and Classification

### Overview

`run_parser_commits.ipynb` processes Git logs to extract **commit metadata, file changes, and classify commit types** using a FastText model. The output is structured CSV files for further analysis.

### Process

1. **Parse Git Logs**: Extracts commit and file change information.
2. **Classify Commits**: Uses a FastText model to categorize commit messages.
3. **Transform Data**: Converts dates to UTC format and sorts commits chronologically.
4. **Save as CSV**: Outputs two datasets:
   - `commits/{task_id}-commits.csv`
   - `commits/{task_id}-files.csv`

### Data Structure

#### `commits.csv`
| Column      | Description             |
|------------|-------------------------|
| commit_id  | Unique commit identifier |
| author     | Commit author's name     |
| date       | Timestamp in UTC         |
| message    | Commit message text      |
| change_type | Predicted commit type  |

#### `files.csv`
| Column     | Description              |
|------------|--------------------------|
| commit_id  | Associated commit ID      |
| added      | Lines added               |
| deleted    | Lines removed             |
| filepath   | Full file path            |
| filename   | Extracted file name       |

## run_reliability_analysis.ipynb - Software Reliability Analysis

### Overview

The `run_reliability_analysis.ipynb` notebook analyzes software reliability by evaluating **Time Between Failures (TBF)** and estimating system dependability based on historical commit data. It focuses on **corrective changes** to compute key reliability metrics.

### Key Analysis Steps

1. **Extracting Failure Data**  
   - Identifies commit timestamps for **bug fixes** and computes the time intervals between them.

2. **Statistical Reliability Modeling**  
   - Visualizes **TBF distributions** and failure trends.
   - Calculates **Mean Time Between Failures (MTBF)** and the failure rate (λ).

3. **Reliability Estimation**  
   - Computes the probability of the system **operating without failure (R(t))** over time.
   - Generates a **Reliability Curve** for predictive maintenance insights.

4. **File-Level Reliability Mapping**  
   - Evaluates **file-specific failure patterns**.
   - Creates an interactive **treemap visualization** to highlight critical components.

## Project Report (`run_project_report.ipynb`)

This notebook generates a consolidated report on the analyzed repositories, producing a spreadsheet with detailed metrics related to reliability, source code evolution, and developer contributions. It analyzes commits, authors, and modification patterns to provide a comprehensive view of the projects' quality and maintenance.

### **Documented Metrics**

#### **General Information**
- **`project`** – Name of the analyzed project.
- **`GitHub`** – URL of the repository on GitHub.

#### **Reliability Metrics**
- **`R1`** – Probability that a file will not require corrections within 1 day.
- **`R5`** – Probability that a file will not require corrections within 5 days.
- **`R10`** – Probability that a file will not require corrections within 10 days.
- **`MTBF`** – Mean Time Between Failures.

#### **Code Evolution Metrics**
- **`number-of-commits`** – Total number of commits made to the repository.
- **`number-of-entities`** – Total number of files monitored in the repository.
- **`number-of-entities-changed`** – Total number of files that were modified.
- **`number-of-authors`** – Total number of developers who contributed to the project.
- **`number-of-months`** – Total number of months analyzed in the repository's history.
- **`number-of-refactorings`** – Total number of commits classified as refactorings.

#### **Code Churn Metrics**
- **`avg-entity-churn-added`** – Average number of lines added per file.
- **`avg-entity-churn-deleted`** – Average number of lines removed per file.
- **`avg-entity-churn-commits`** – Average number of commits affecting each file.
- **`avg-entity-ownership`** – Average lines of code for each entity owned by a developer.
- **`avg-entity-ownership-unique-authors`** – Average number of developers contributing to each entity.

#### **Developer Contribution Metrics**
- **`avg-author-churn-commits`** – Average number of commits made by each author.
- **`avg-main-dev-ownership`** – Average percentage of code controlled by the main developer of the project.
- **`avg-refactoring-main-dev-ownership`** – Average percentage of refactorings made by the main developer.
- **`avg-soc`** – Average level of code dispersion among different developers (Spread of Contribution).
- **`avg-fragmentation-fractal-value`** – Indicator of code fragmentation changes (fractal value).
- **`avg-fragmentation-total-revs`** – Average number of revisions affected by each change.
- **`avg-revisions`** – Average number of revisions per file in the repository.

#### **Project Report (`run_project_report.ipynb`)**

This notebook generates a consolidated report on the analyzed repositories, producing a spreadsheet with detailed metrics related to reliability, source code evolution, and developer contributions. It analyzes commits, authors, and modification patterns to provide a comprehensive view of the projects' quality and maintenance.

The final report is saved as **`report-analysis.csv`**.

#### **Statistical Analysis (`report-analysis.omv`)**

The file **`report-analysis.omv`** is a **Jamovi** analysis project that imports the **`report-analysis.csv`** dataset to perform various statistical methods for software reliability and quality evaluation.

##### **Performed Analyses**
- **Regression Analysis** – Investigates relationships between software metrics.
- **Exploratory Data Analysis (EDA)** – Identifies distributions and patterns.
- **Correction Analysis** – Applies adjustments to refine statistical models.

